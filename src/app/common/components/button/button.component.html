<button
  class="m-button"
  (click)="emitAction($event)"
  [type]="type"
  [disabled]="disabled"
  [ngClass]="getClass()"
  *ngIf="!href"
>
  <div *ngIf="!_saving" class="m-button__text--unsaved" #buttonTextContainer>
    <ng-container [ngTemplateOutlet]="content"></ng-container>
  </div>
  <div
    *ngIf="_saving"
    class="m-button__text--saving"
    [style.width]="buttonTextWidth + 'px'"
    [style.height]="buttonTextHeight + 'px'"
  >
    <span></span>
    <span></span>
    <span></span>
  </div>
  <m-dropdownMenu
    *ngIf="dropdown && showDropdownMenu"
    [menu]="dropdown"
    [anchorPosition]="dropdownAnchorPosition"
    triggerClass="m-button__dropdownArrow"
    menuClass="m-button__dropdownMenu"
    data-cy="button-dropdown-action"
    #dropdownMenuComponent
    (click)="$event.preventDefault(); $event.stopPropagation()"
  >
    <m-icon from="ion" iconId="arrow-down-b"></m-icon>
  </m-dropdownMenu>
</button>

<a
  class="m-button"
  [attr.href]="disabled ? undefined : href"
  [attr.disabled]="disabled ? true : undefined"
  [ngClass]="getClass()"
  *ngIf="href"
>
  <ng-container [ngTemplateOutlet]="content"></ng-container>
</a>

<ng-template #content>
  <ng-content></ng-content>
</ng-template>
