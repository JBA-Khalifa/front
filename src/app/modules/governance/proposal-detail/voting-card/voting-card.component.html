<div
  class="
    m-governance--proposal-detail-info m-governance--proposal-detail-results
  "
>
  <div class="m-governance--voting-row">
    <div class="m-governance--proposal-detail-title">Voting</div>

    <div
      class="m-governance--proposal-detail-value"
      *ngIf="proposal.state === 'active'"
    >
      <m-icon class="m-governance--clock" iconId="schedule"></m-icon>
      <div class="m-governance--proposal-detail-key">
        Voting closes {{ fromNow(proposal.end) }}
      </div>
    </div>
  </div>

  <div class="m-proposal--thumbnail-row" *ngIf="proposal.state !== 'pending'">
    <div class="m-proposal--thumbnail-small"></div>
    <div class="m-proposal--thumbnail-small"></div>
    <div class="m-proposal--thumbnail-small"></div>
    <div class="m-proposal--users">Sarah, Ted and Ada participated</div>
  </div>

  <div class="m-proposal--row-limit">
    <div class="m-proposal--voting-row">
      <div class="m-proposal--proposal-detail-progress">
        <span [style.width]="accepted + '%'"></span>
      </div>
    </div>
    <div class="m-proposal--row-score">
      <div class="m-proposal--actions-results">{{ accepted }}% accepted</div>
      <div class="m-proposal--actions-results">{{ rejected }}% rejected</div>
    </div>
  </div>

  <ng-container *ngIf="proposal.state === 'active'">
    <m-loadingSpinner
      *ngIf="loading$ | async"
      [inProgress]="true"
    ></m-loadingSpinner>
    <div class="m-governance--choices-row" *ngIf="!(loading$ | async)">
      <div
        *ngFor="let choice of choicesButtons$ | async"
        class="m-governance--proposal-detail-vote"
        [ngClass]="{
          'm-governance--option-approve':
            choice.label === 'approve' || choice.label === 'yes',
          'm-governance--option-reject':
            choice.label === 'reject' || choice.label === 'no'
        }"
        (click)="handleVoting(choice)"
      >
        <div class="m-governance--choices-option">
          {{ choice.label }}
        </div>
      </div>
    </div>
  </ng-container>
</div>
